<div class="next-user-button" ...attributes>
    <BasicDropdown @registerAPI={{this.registerAPI}} @defaultClass={{@wrapperClass}} @onOpen={{@onOpen}} @onClose={{@onClose}} @verticalPosition={{@verticalPosition}} @horizontalPosition={{@horizontalPosition}} @renderInPlace={{true}} @initiallyOpened={{@initiallyOpened}} as |dd|>
        <dd.Trigger class={{@triggerClass}}>
            <div class="next-org-button-trigger flex-shrink-0 {{if dd.isOpen 'is-open'}}">
                <FaIcon @icon="message" />
                {{!-- {{#if this.notifications.length}}
                    <div class="chat-tray-unread-notifications-badge">{{this.notifications.length}}</div>
                {{/if}} --}}
            </div>
        </dd.Trigger>
        <dd.Content class="chat-tray-panel-container">
            <div class="chat-tray-panel">
                <div class="p-4">
                    <Button @type="primary" @text="Start Chat" @onClick={{this.startChat}} />
                </div>
                <div class="flex flex-col">
                    {{#each this.channels as |channel|}}
                        <div class="flex items-start px-4 py-3 border-t dark:border-gray-700 border-gray-200">
                            <button type="button" class="flex flex-col flex-1 cursor-default" {{on "click" (fn this.openChannel channel)}}>
                                <div class="font-bold mb-1">{{n-a channel.title "Untitled Chat"}}</div>
                                <div class="flex flex-row">
                                    <div class="w-10">
                                        <Image src={{channel.last_message.sender.avatar_url}} @fallbackSrc={{config "defaultValues.userImage"}} alt={{channel.last_message.sender.name}} class="rounded-full shadow-sm w-8 h-8" />
                                    </div>
                                    <div class="text-sm truncate dark:text-gray-200 text-gray-900">{{channel.last_message.content}}</div>
                                </div>
                            </button>
                            <div class="flex">
                                <div class="btn-wrapper">
                                    <button type="button" class="btn btn-danger btn-xs cursor-default" {{on "click" (fn this.removeChannel channel)}}>
                                        <FaIcon @icon="times" @size="sm" />
                                    </button>
                                </div>
                            </div>
                        </div>
                    {{/each}}
                </div>
            </div>
        </dd.Content>
    </BasicDropdown>
</div>